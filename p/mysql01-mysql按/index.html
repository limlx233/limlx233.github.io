<!DOCTYPE html>
<html lang="zh-cn" dir="ltr">
    <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content="目标\n安装MySQL服务器和客户端程序 认识安装过程中的文件和文件夹 执行 MySQLserver 的初始化操作 启动和停止MySQL 升级到MySQL 8.0 安装MySQL 安装步骤 确定你的平台是否受支持。 查看：https://www.mysql.com/support/supportedplatforms/database.html 选择一种发布版本。 预打包的二进制文件 原生格式，例如，适用于 Linux 的 RPM 包、适用于 OS X 的 PKG 包、适用于 Windows 的 MySQL 安装程序 通用格式，例如，ZIP 归档文件或压缩的 tar 文件 源代码 下载该发布版本。 安装该发布版本。 执行任何所需的安装后配置。 一般来说，应选择二进制发布版本。只有你想查看非常新的功能并测试新代码时，才选择源代码发布版本。\n">
<title>MySQL|01-MySQL按</title>

<link rel='canonical' href='http://localhost:1313/p/mysql01-mysql%E6%8C%89/'>

<link rel="stylesheet" href="/scss/style.min.e47845efdf201e9ad59b2ca9789760c9ef5c7593900565acc1765aea3f3b2641.css"><meta property='og:title' content="MySQL|01-MySQL按">
<meta property='og:description' content="目标\n安装MySQL服务器和客户端程序 认识安装过程中的文件和文件夹 执行 MySQLserver 的初始化操作 启动和停止MySQL 升级到MySQL 8.0 安装MySQL 安装步骤 确定你的平台是否受支持。 查看：https://www.mysql.com/support/supportedplatforms/database.html 选择一种发布版本。 预打包的二进制文件 原生格式，例如，适用于 Linux 的 RPM 包、适用于 OS X 的 PKG 包、适用于 Windows 的 MySQL 安装程序 通用格式，例如，ZIP 归档文件或压缩的 tar 文件 源代码 下载该发布版本。 安装该发布版本。 执行任何所需的安装后配置。 一般来说，应选择二进制发布版本。只有你想查看非常新的功能并测试新代码时，才选择源代码发布版本。\n">
<meta property='og:url' content='http://localhost:1313/p/mysql01-mysql%E6%8C%89/'>
<meta property='og:site_name' content='Penna_a'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:published_time' content='2025-08-15T00:35:01&#43;17:30'/><meta property='article:modified_time' content='2025-08-15T00:35:01&#43;17:30'/>
<meta name="twitter:title" content="MySQL|01-MySQL按">
<meta name="twitter:description" content="目标\n安装MySQL服务器和客户端程序 认识安装过程中的文件和文件夹 执行 MySQLserver 的初始化操作 启动和停止MySQL 升级到MySQL 8.0 安装MySQL 安装步骤 确定你的平台是否受支持。 查看：https://www.mysql.com/support/supportedplatforms/database.html 选择一种发布版本。 预打包的二进制文件 原生格式，例如，适用于 Linux 的 RPM 包、适用于 OS X 的 PKG 包、适用于 Windows 的 MySQL 安装程序 通用格式，例如，ZIP 归档文件或压缩的 tar 文件 源代码 下载该发布版本。 安装该发布版本。 执行任何所需的安装后配置。 一般来说，应选择二进制发布版本。只有你想查看非常新的功能并测试新代码时，才选择源代码发布版本。\n">
    <link rel="shortcut icon" href="/pen.svg" />

    </head>
    <body class="
    article-page
    ">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "light");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky ">
    <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="切换菜单">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>

    <header>
        
            
            <figure class="site-avatar">
                <a href="/">
                
                    
                    
                    
                        
                        <img src="/img/penna_a_hu_5a941f5f88297110.png" width="300"
                            height="300" class="site-logo" loading="lazy" alt="Avatar">
                    
                
                </a>
                
                    <span class="emoji">🖊︎</span>
                
            </figure>
            
        
        
        <div class="site-meta">
            <h1 class="site-name"><a href="/">Penna_a</a></h1>
            <h2 class="site-description">一份数字存档</h2>
        </div>
    </header><ol class="menu-social">
            
                <li>
                    <a 
                        href='https://github.com/limlx233'
                        target="_blank"
                        title="GitHub"
                        rel="me"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5" />
</svg>



                        
                    </a>
                </li>
            
                <li>
                    <a 
                        href='https://space.bilibili.com/27829382'
                        target="_blank"
                        title="bilibili"
                        rel="me"
                    >
                        
                        
                            <svg  xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"  class="icon icon-tabler icons-tabler-outline icon-tabler-brand-bilibili"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 10a4 4 0 0 1 4 -4h10a4 4 0 0 1 4 4v6a4 4 0 0 1 -4 4h-10a4 4 0 0 1 -4 -4v-6z" /><path d="M8 3l2 3" /><path d="M16 3l-2 3" /><path d="M9 13v-2" /><path d="M15 11v2" /></svg>
                        
                    </a>
                </li>
            
                <li>
                    <a 
                        href='https://share.streamlit.io/user/limlx233'
                        target="_blank"
                        title="streamlit"
                        rel="me"
                    >
                        
                        
                            <svg  xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"  class="icon icon-tabler icons-tabler-outline icon-tabler-crown"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12 6l4 6l5 -4l-2 10h-14l-2 -10l5 4z" /></svg>
                        
                    </a>
                </li>
            
        </ol><ol class="menu" id="main-menu">
        
        
        
        <li >
            <a href='/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <polyline points="5 12 3 12 12 3 21 12 19 12" />
  <path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7" />
  <path d="M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6" />
</svg>



                
                <span>主页</span>
            </a>
        </li>
        
        
        <li >
            <a href='/search/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="10" cy="10" r="7" />
  <line x1="21" y1="21" x2="15" y2="15" />
</svg>



                
                <span>搜索</span>
            </a>
        </li>
        
        
        <li >
            <a href='/archives/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <rect x="3" y="4" width="18" height="4" rx="2" />
  <path d="M5 8v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-10" />
  <line x1="10" y1="12" x2="14" y2="12" />
</svg>



                
                <span>归档</span>
            </a>
        </li>
        
        
        <li >
            <a href='/%E5%85%B3%E4%BA%8E/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="7" r="4" />
  <path d="M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2" />
</svg>



                
                <span>关于</span>
            </a>
        </li>
        
        
        <li >
            <a href='/%E9%93%BE%E6%8E%A5/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5" />
  <path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5" />
</svg>



                
                <span>链接</span>
            </a>
        </li>
        
        <li class="menu-bottom-section">
            <ol class="menu">

                
                    <li id="dark-mode-toggle">
                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="8" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="16" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                        <span>暗色模式</span>
                    </li>
                
            </ol>
        </li>
    </ol>
</aside>

    <aside class="sidebar right-sidebar sticky">
        
            
                
    <section class="widget archives">
        <div class="widget-icon">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <line x1="5" y1="9" x2="19" y2="9" />
  <line x1="5" y1="15" x2="19" y2="15" />
  <line x1="11" y1="4" x2="7" y2="20" />
  <line x1="17" y1="4" x2="13" y2="20" />
</svg>



        </div>
        <h2 class="widget-title section-title">目录</h2>
        
        <div class="widget--toc">
            <nav id="TableOfContents">
  <ol>
    <li><a href="#安装mysql">安装MySQL</a>
      <ol>
        <li><a href="#安装步骤">安装步骤</a>
          <ol>
            <li><a href="#从下载的软件包安装-mysqlinstalling-mysql-from-downloaded-packages">从下载的软件包安装 MySQL（Installing MySQL from Downloaded Packages）</a></li>
          </ol>
        </li>
        <li><a href="#linux-的-mysql-rpm-安装文件">Linux 的 MySQL RPM 安装文件</a>
          <ol>
            <li><a href="#可用的-rpm-包available-rpms">可用的 RPM 包（Available RPMs）</a></li>
            <li><a href="#mysql-rpm-安装流程mysql-rpm-installation-process">MySQL RPM 安装流程（MySQL RPM Installation Process）</a></li>
            <li><a href="#mysql-deb-安装mysql-deb-installation">MySQL DEB 安装（MySQL DEB Installation）</a></li>
            <li><a href="#特定于-linux-发行版的软件仓库linux-distributionspecific-repositories">特定于 Linux 发行版的软件仓库（Linux Distribution–Specific Repositories）</a></li>
            <li><a href="#使用包管理器安装-mysqlinstalling-mysql-by-using-a-package-manager">使用包管理器安装 MySQL（Installing MySQL by Using a Package Manager）</a></li>
            <li><a href="#添加-apt-仓库">添加 APT 仓库</a></li>
            <li><a href="#手动配置-apt-仓库">手动配置 APT 仓库</a></li>
          </ol>
        </li>
        <li><a href="#windows中安装mysql">Windows中安装MySQL</a>
          <ol>
            <li><a href="#在-windows-上安装-mysql">在 Windows 上安装 MySQL</a></li>
            <li><a href="#在-windows-系统中安装-mysql-服务">在 Windows 系统中安装 MySQL 服务</a></li>
            <li><a href="#从源代码安装-mysql">从源代码安装 MySQL</a></li>
            <li><a href="#从二进制归档文件安装-mysql">从二进制归档文件安装 MySQL</a></li>
          </ol>
        </li>
        <li><a href="#使用-docker-部署-mysql-服务器">使用 Docker 部署 MySQL 服务器</a></li>
      </ol>
    </li>
    <li><a href="#安装文件及路径">安装文件及路径</a>
      <ol>
        <li><a href="#linux-mysql-server-安装目录">linux MySQL Server 安装目录</a>
          <ol>
            <li><a href="#数据目录data-directory">数据目录（Data Directory）</a></li>
            <li><a href="#基础目录base-directory">基础目录（Base Directory）</a></li>
            <li><a href="#其他目录other-directories">其他目录（Other Directories）</a></li>
          </ol>
        </li>
        <li><a href="#windows-mysql-server-安装路径">Windows MySQL Server 安装路径</a>
          <ol>
            <li><a href="#program-files-目录">“Program Files” 目录</a></li>
            <li><a href="#programdata-目录">“ProgramData” 目录</a></li>
            <li><a href="#配置文件">配置文件</a></li>
          </ol>
        </li>
        <li><a href="#mysql-programs">MySQL Programs</a>
          <ol>
            <li><a href="#mysqldmysql-服务器进程mysqld-mysql-server-process">mysqld：MySQL 服务器进程（mysqld: MySQL Server Process）</a></li>
            <li><a href="#安装程序installation-programs">安装程序（Installation Programs）</a></li>
            <li><a href="#实用程序utility-programs">实用程序（Utility Programs）</a></li>
            <li><a href="#命令行客户端程序command-line-client-programs">命令行客户端程序（Command-Line Client Programs）</a></li>
          </ol>
        </li>
      </ol>
    </li>
    <li><a href="#初始化配置">初始化配置</a>
      <ol>
        <li>
          <ol>
            <li><a href="#配置强制访问控制configuring-mandatory-access-control">配置强制访问控制（Configuring Mandatory Access Control）</a></li>
          </ol>
        </li>
        <li><a href="#更改-root-密码">更改 <code>root</code> 密码</a>
          <ol>
            <li><a href="#修改-root-密码changing-the-root-password">修改 root 密码（Changing the root Password）</a></li>
          </ol>
        </li>
        <li><a href="#启动和关闭mysql">启动和关闭MySQL</a>
          <ol>
            <li><a href="#使用-mysqladmin-停止-mysqlstopping-mysql-with-mysqladmin">使用 mysqladmin 停止 MySQL（Stopping MySQL with mysqladmin）</a></li>
            <li><a href="#mysql-服务文件mysql-service-files">MySQL 服务文件（MySQL Service Files）</a></li>
            <li><a href="#在-windows-上启动和停止-mysqlmysql-notifier">在 Windows 上启动和停止 MySQL：MySQL Notifier</a></li>
          </ol>
        </li>
      </ol>
    </li>
    <li><a href="#升级mysql">升级MySQL</a>
      <ol>
        <li><a href="#阅读发行说明reading-release-notes">阅读发行说明（Reading Release Notes）</a>
          <ol>
            <li><a href="#搜索特定变更searching-for-specific-changes">搜索特定变更（Searching for Specific Changes）</a></li>
            <li><a href="#mysql-shell-升级检查工具mysql-shell-upgrade-checker-utility">MySQL Shell 升级检查工具（MySQL Shell Upgrade Checker Utility）</a></li>
            <li><a href="#使用原地升级方法using-in-place-upgrade-method">使用原地升级方法（Using In-Place Upgrade Method）</a></li>
            <li><a href="#使用逻辑升级方法using-logical-upgrade-method">使用逻辑升级方法（Using Logical Upgrade Method）</a></li>
            <li><a href="#mysql_upgrade">mysql_upgrade</a></li>
          </ol>
        </li>
      </ol>
    </li>
  </ol>
</nav>
        </div>
    </section>

            
        
    </aside>


            <main class="main full-width">
    <article class="main-article">
    <header class="article-header">

    <div class="article-details">
    
    <header class="article-category">
        
            <a href="/categories/mysql/" style="background-color: ; color: #fff;">
                MySQL
            </a>
        
    </header>
    

    <div class="article-title-wrapper">
        <h2 class="article-title">
            <a href="/p/mysql01-mysql%E6%8C%89/">MySQL|01-MySQL按</a>
        </h2>
    
        
    </div>

    
    
    
    
    <footer class="article-time">
        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
                <time class="article-time--published">2025-08-15</time>
            </div>
        

        

        <div>
            <svg  xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"  class="icon icon-tabler icons-tabler-outline icon-tabler-eye"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" /><path d="M21 12c-2.4 4 -5.4 6 -9 6c-3.6 0 -6.6 -2 -9 -6c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6" /></svg>
            <time class="article-pageview">
                <span class="waline-pageview-count" data-path="/p/mysql01-mysql%E6%8C%89/">0</span> 次浏览
            </time>
        </div>

        <div>
            <svg  xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"  class="icon icon-tabler icons-tabler-outline icon-tabler-bubble-text"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M7 10h10" /><path d="M9 14h5" /><path d="M12.4 3a5.34 5.34 0 0 1 4.906 3.239a5.333 5.333 0 0 1 -1.195 10.6a4.26 4.26 0 0 1 -5.28 1.863l-3.831 2.298v-3.134a2.668 2.668 0 0 1 -1.795 -3.773a4.8 4.8 0 0 1 2.908 -8.933a5.33 5.33 0 0 1 4.287 -2.16" /></svg>
            <time class="article-comment">
                <span class="waline-comment-count" data-path="/p/mysql01-mysql%E6%8C%89/">0</span> 条评论
            </time>
        </div>
    </footer>

    

    
</div>

</header>

    <section class="article-content">
    
    
    <p>目标</p>
<ul>
<li>安装MySQL服务器和客户端程序</li>
<li>认识安装过程中的文件和文件夹</li>
<li>执行 MySQLserver 的初始化操作</li>
<li>启动和停止MySQL</li>
<li>升级到MySQL 8.0</li>
</ul>
<h2 id="安装mysql">安装MySQL
</h2><h3 id="安装步骤">安装步骤
</h3><ol>
<li>确定你的平台是否受支持。
<ul>
<li>查看：https://www.mysql.com/support/supportedplatforms/database.html</li>
</ul>
</li>
<li>选择一种发布版本。
<ul>
<li>预打包的二进制文件
<ul>
<li>原生格式，例如，适用于 Linux 的 RPM 包、适用于 OS X 的 PKG 包、适用于 Windows 的 MySQL 安装程序</li>
<li>通用格式，例如，ZIP 归档文件或压缩的 tar 文件</li>
</ul>
</li>
<li>源代码</li>
</ul>
</li>
<li>下载该发布版本。</li>
<li>安装该发布版本。</li>
<li>执行任何所需的安装后配置。</li>
</ol>
<p>一般来说，应选择二进制发布版本。只有你想查看非常新的功能并测试新代码时，才选择源代码发布版本。</p>
<h4 id="从下载的软件包安装-mysqlinstalling-mysql-from-downloaded-packages">从下载的软件包安装 MySQL（Installing MySQL from Downloaded Packages）
</h4><ul>
<li>
<p>下载 MySQL Linux 软件包后，使用以下命令进行安装：</p>
<ul>
<li>
<p>在 RPM 系统上：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-plaintext" data-lang="plaintext"><span class="line"><span class="cl">rpm -ivh packagename.rpm
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>在 APT 系统上：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-plaintext" data-lang="plaintext"><span class="line"><span class="cl">dpkg -i packagename.deb
</span></span></code></pre></td></tr></table>
</div>
</div></li>
</ul>
</li>
<li>
<p>安装软件包时，必须识别并解决依赖关系。</p>
<ul>
<li>安装 MySQL 软件包前，先安装所有依赖项。
<ul>
<li>例如，MySQL 依赖于 <code>libaio</code> 库。若未安装该库，数据目录初始化及后续服务器启动步骤会失败。</li>
</ul>
</li>
<li>按正确顺序安装 MySQL 软件包。
<ul>
<li>例如，安装 <code>client</code> 或 <code>server</code> 软件包前，先安装 <code>libs</code> 软件包。</li>
</ul>
</li>
</ul>
</li>
</ul>
<h5 id="安装依赖项installing-dependencies">安装依赖项（Installing Dependencies）
</h5><p>在可通过网络访问软件仓库或连接了文件系统的 RPM 机器上，你可以使用包管理器解决依赖问题。</p>
<p>如果你在无法访问软件仓库的机器上安装，必须手动解决安装 MySQL 软件包时发现的所有未满足的依赖项。为此，你需要搜索与你所安装的 Linux 系统适配的软件仓库，找到包含相关软件包的 RPM 或 DEB 文件。</p>
<p><strong>注意</strong>：如需了解关于使用包管理器的信息，请参阅本课程后续的 “使用包管理器安装 MySQL（Installing MySQL by Using a Package Manager）” 部分。</p>
<h3 id="linux-的-mysql-rpm-安装文件">Linux 的 MySQL RPM 安装文件
</h3><h4 id="可用的-rpm-包available-rpms">可用的 RPM 包（Available RPMs）
</h4><p>Oracle 提供两种类型的 MySQL RPM 包：</p>
<ul>
<li><strong>独立于发行版（Distribution-independent）</strong>：应能在所有支持 RPM 包且使用 glibc 2.12 的 Linux 版本上运行。</li>
<li><strong>特定于发行版（Distribution-specific）</strong>：针对特定的 Linux 平台，例如 Oracle Linux 7。</li>
</ul>
<p>MySQL 的 RPM 安装通常会拆分为不同的软件包。你可以单独下载这些软件包，也可以将它们打包成一个归档文件下载。</p>
<ul>
<li><strong>Server</strong>：数据库服务器及相关工具</li>
<li><strong>Common</strong>：服务器和客户端库的通用文件</li>
<li><strong>Client</strong>：MySQL 客户端应用程序和工具</li>
<li><strong>Devel</strong>：用于 MySQL 数据库客户端应用程序的开发头文件和库</li>
<li><strong>Embedded-compat</strong>：作为嵌入式库的 MySQL 服务器，与使用版本 18 库的应用程序兼容</li>
<li><strong>Libs</strong>：MySQL 数据库客户端应用程序的共享库</li>
<li><strong>Libs-compat</strong>：用于早期 MySQL 安装的共享兼容库</li>
<li><strong>Test</strong>：MySQL 服务器的测试套件</li>
<li><strong>Router</strong>：在 InnoDB 集群中提供透明路由的轻量级中间件</li>
<li><strong>Backup</strong>：MySQL 企业级备份（仅商业版本）</li>
</ul>
<p><strong>对于标准安装，必须至少安装 <code>common</code>、<code>server</code> 和 <code>client</code> 软件包</strong>。</p>
<h4 id="mysql-rpm-安装流程mysql-rpm-installation-process">MySQL RPM 安装流程（MySQL RPM Installation Process）
</h4><ul>
<li>
<p>RPM 安装会执行以下任务：</p>
<ul>
<li>将 RPM 文件提取到其默认位置。</li>
<li>注册 SysV 初始化脚本或 systemd 启动脚本。</li>
<li>在操作系统中创建<code>mysql</code>用户和用户组。
<ul>
<li>MySQL 服务器进程以 <code>mysql</code> 用户身份运行。</li>
</ul>
</li>
</ul>
</li>
<li>
<p>首次使用</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">service start mysqld
</span></span></code></pre></td></tr></table>
</div>
</div><p>或</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">systemctl start mysqld
</span></span></code></pre></td></tr></table>
</div>
</div><p>启动服务时，MySQL 会：</p>
<ul>
<li>创建数据目录和默认的<code>my.cnf</code>文件。
<ul>
<li>这些文件归 <code>mysql</code> 用户和用户组所有。</li>
</ul>
</li>
<li>创建默认的 <code>root@localhost</code> 账户。</li>
<li>为<code>root</code>账户设置随机临时密码，并将该密码写入错误日志文件（<code>/var/log/mysqld.log</code>）。
<ul>
<li>使用 MySQL 前，必须修改该密码。</li>
</ul>
</li>
</ul>
</li>
</ul>
<h5 id="mysql-文件位置mysql-file-locations">MySQL 文件位置（MySQL File Locations）
</h5><p>RPM 安装程序会将 <code>basedir</code>（基础目录 ）设置为 <code>/usr</code>，且未提供将 MySQL 安装到文件系统其他位置的选项。如果你想在同一系统上安装多个版本的 MySQL，这可能会引发问题。</p>
<p>若要安装到其他位置，请使用通用二进制包。注意，RPM 安装程序还会设置 <code>mysql</code> 用户和用户组、Linux 服务及其他配置，而这些在通过通用二进制包安装时必须手动完成。</p>
<h5 id="oracle-rpm-与非-oracle-rpmoracle-rpms-and-non-oracle-rpms">Oracle RPM 与非 Oracle RPM（Oracle RPMs and Non-Oracle RPMs）
</h5><p>一些 Linux 发行版会提供它们自己构建的 MySQL RPM 包。本幻灯片中的步骤反映的是 Oracle RPM 包的安装流程。由于这种行为是内置于 RPM 包的，其他发行版的安装流程可能会有所不同。</p>
<h5 id="启动-mysql-服务starting-the-mysql-service">启动 MySQL 服务（Starting the MySQL Service）
</h5><p>MySQL 服务不会自动启动。在使用 MySQL 前，你必须自行启动服务：</p>
<ul>
<li><code>service mysqld start</code></li>
<li>在运行 systemd 的 Linux 发行版上，使用 <code>systemctl start mysqld</code></li>
</ul>
<p>在运行 systemd 的 Linux 版本中，<code>service</code> 命令会映射到等效的 <code>systemctl</code> 命令</p>
<h4 id="mysql-deb-安装mysql-deb-installation">MySQL DEB 安装（MySQL DEB Installation）
</h4><ul>
<li>
<p>DEB 软件包适用于 APT Linux 系统，可单独下载或打包下载。</p>
</li>
<li>
<p>若要进行标准安装，请按指定顺序安装以下软件包。</p>
<ol>
<li>
<p>数据库通用文件包</p>
</li>
<li>
<p>客户端包</p>
</li>
<li>
<p>客户端元包</p>
</li>
<li>
<p>服务器包</p>
</li>
<li>
<p>服务器元包</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo dpkg -i mysql-<span class="o">({</span>common,community-client,client,community-server,server<span class="o">})</span>_*.deb
</span></span></code></pre></td></tr></table>
</div>
</div></li>
</ol>
</li>
<li>
<p>安装服务器包时，<code>dpkg</code>会提供一个配置界面：</p>
<ul>
<li>为 <code>root</code> 账户选择密码。</li>
<li>指明是否要安装测试数据库。</li>
</ul>
</li>
</ul>
<h5 id="deb-安装前步骤deb-pre-installation-step">DEB 安装前步骤（DEB Pre-installation Step）
</h5><p>MySQL 8.0 不允许在服务器初始化后修改 <code>lower_case_table_names</code> 变量。DEB 安装会在安装过程中自动初始化 MySQL 服务器。如果你想启用 <code>lower_case_table_names</code> 设置，需要在开始安装前使用 <code>debconf-set-selection</code> 工具配置该选项。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">shell&gt; sudo debconf-set-selections <span class="o">&lt;&lt;&lt;</span> <span class="s2">&#34;mysql-server mysql-server/lowercase-table-names select Enabled&#34;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h5 id="deb-与-rpm-软件包差异deb-and-rpm-package-differences">DEB 与 RPM 软件包：差异（DEB and RPM Package: Differences）
</h5><p>DEB 软件包的组件组织方式与 RPM 软件包类似。差异包括以下几点：</p>
<ul>
<li>没有 DEB 源码包。你可以直接通过 <code>.tar.gz</code> 文件获取源代码。</li>
<li>没有等效的 <code>libs-compat</code> 包。该包的用途特定于基于 RPM 的发行版。</li>
<li><code>dpkg</code> 安装过程默认是交互式的。安装软件包时，它会显示一个基于 Curses 的界面，用于设置幻灯片中所示的选项。使用 <code>dpkg-preconfigure</code> 命令在安装前设置这些配置选项时，也会看到该界面，此时安装界面不会显示。如果你将 <code>DEBIAN_FRONTEND</code> 环境变量设置为 <code>noninteractive</code>，则不会显示 Curses 界面，且 <code>root</code> 密码会保持为空。</li>
</ul>
<h4 id="特定于-linux-发行版的软件仓库linux-distributionspecific-repositories">特定于 Linux 发行版的软件仓库（Linux Distribution–Specific Repositories）
</h4><p>许多 Linux 发行版会维护它们自己的软件包仓库。</p>
<ul>
<li>托管在网络上或本地文件系统中。</li>
<li>可通过包管理器进行访问：
<ul>
<li>仓库网址在每台主机的包管理器配置中指定。</li>
<li>你也可以手动下载单个软件包。</li>
</ul>
</li>
<li>包含软件包及其依赖项。</li>
<li>可通过额外的软件仓库补充，这些额外仓库包含标准软件包仓库中没有的软件：
<ul>
<li>你可以将这些额外的软件仓库添加到每台主机的包管理器配置中。</li>
</ul>
</li>
<li>示例：<code>http://public-yum.oracle.com/</code> 包含 Oracle Linux 软件包。</li>
</ul>
<h5 id="本地软件仓库local-repositories">本地软件仓库（Local Repositories）
</h5><p>当你从 CD 或 DVD 安装 Linux 时，安装介质可能包含一个精选软件包的仓库，安装程序会在安装过程中使用该仓库。你可以从这样的仓库安装软件包，而无需连接到互联网。</p>
<h4 id="使用包管理器安装-mysqlinstalling-mysql-by-using-a-package-manager">使用包管理器安装 MySQL（Installing MySQL by Using a Package Manager）
</h4><ul>
<li>
<p>在基于 RPM 的系统（包括 Oracle Linux、Red Hat、Fedora 和 CentOS ）上，使用 <code>yum install</code>：</p>
<ul>
<li>
<p>示例：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">yum install mysql-community-server
</span></span><span class="line"><span class="cl">yum install mysql-workbench
</span></span></code></pre></td></tr></table>
</div>
</div></li>
</ul>
</li>
<li>
<p>在基于 APT 的系统（包括 Ubuntu 和 Debian ）上，使用 <code>apt-get install</code>：</p>
<ul>
<li>
<p>示例：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">apt-get install mysql-community-server
</span></span><span class="line"><span class="cl">apt-get install mysql-workbench
</span></span></code></pre></td></tr></table>
</div>
</div></li>
</ul>
</li>
<li>
<p>安装 <code>mysql-community-server</code> 软件包时，也会安装服务器所需组件的软件包。</p>
</li>
</ul>
<h5 id="依赖项dependencies">依赖项（Dependencies）
</h5><p>如果包管理器能够通过网络或从文件系统访问其软件仓库，它们会自动检测并安装依赖项。例如，<code>mysql-community-server</code> 软件包依赖于多个其他软件包，包括：</p>
<ul>
<li><code>mysql-community-client</code>：客户端软件</li>
<li><code>mysql-community-common</code>：供客户端和服务器使用的通用错误消息和字符集</li>
<li><code>mysql-community-libs</code>：共享客户端库</li>
</ul>
<p>当你安装 <code>mysql-community-server</code> 时，如果系统上不存在这些依赖项，包管理器会找到并安装这些软件包及其可能有的依赖项。</p>
<h5 id="软件仓库维护者repository-maintainers">软件仓库维护者（Repository Maintainers）
</h5><p>在某些发行版中，<code>mysql-server</code> 是一个虚拟软件包，其本身不包含任何软件，而是将特定版本的 <code>mysql-community-server</code> 或其他软件作为依赖项。当你安装这样的虚拟软件包时，包管理器会安装其所有依赖项，包括定义版本的 MySQL 软件包。</p>
<p>由于此软件包通常由发行版维护者而非 Oracle 维护，它无法反映 MySQL 软件的最新变化。</p>
<h5 id="添加-yum-软件仓库adding-a-yum-repository">添加 Yum 软件仓库（Adding a Yum Repository）
</h5><ul>
<li>
<p>从 <code>http://dev.mysql.com/downloads/repo/yum/</code> 下载 Yum 软件仓库的 RPM 文件。</p>
<ul>
<li>为你的发行版选择正确的 RPM 文件。</li>
<li>示例：适用于 Red Hat Enterprise Linux 7 / Oracle Linux 7（架构独立）的 RPM 包名为 <code>mysql80-community-release-el7-3.noarch.rpm</code>。</li>
</ul>
</li>
<li>
<p>使用 <code>yum localinstall</code> 命令安装该文件，例如：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">yum localinstall mysql80-community-release-el7-3.noarch.rpm
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>上述命令会将 MySQL Yum 软件仓库添加到主机的 Yum 配置中。</li>
</ul>
</li>
<li>
<p>启用或禁用特定版本。</p>
<ul>
<li>MySQL 8.0 默认启用。其他版本默认禁用。</li>
</ul>
</li>
<li>
<p>运行 <code>yum install packagename</code> 从新仓库安装软件包。</p>
</li>
</ul>
<h5 id="软件仓库配置repository-configuration">软件仓库配置（Repository Configuration）
</h5><p>安装仓库 RPM 文件时，它会在 <code>/etc/yum.repos.d/</code> 中创建两个文件：</p>
<ul>
<li><code>mysql-community.repo</code>：包含 MySQL 社区版的仓库元数据。</li>
<li><code>mysql-community-source.repo</code>：包含 MySQL 源代码的仓库元数据。</li>
</ul>
<p>默认配置启用 MySQL 最新的通用可用（GA）版本以及 MySQL 工具。之前的 GA 版本会被禁用，尚未通用可用的开发版本也会被禁用。</p>
<h5 id="配置-yum-仓库版本">配置 Yum 仓库版本
</h5><p>通过编辑 <code>/etc/yum.repos.d/mysql-community-repo</code> 文件，启用或禁用特定版本：</p>
<ul>
<li>默认情况下，最新的正式发布（GA）版本是启用的。</li>
<li>以下摘录显示 MySQL 5.7 仓库处于禁用状态：</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-plaintext" data-lang="plaintext"><span class="line"><span class="cl"># 启用以使用 MySQL 5.7
</span></span><span class="line"><span class="cl">[mysql57-community]
</span></span><span class="line"><span class="cl">name=MySQL 5.7 Community Server
</span></span><span class="line"><span class="cl">baseurl=http://repo.mysql.com/yum/mysql-5.7-community/el/7/\$basearch/
</span></span><span class="line"><span class="cl">enabled=0
</span></span><span class="line"><span class="cl">gpgcheck=1
</span></span><span class="line"><span class="cl">gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-mysql
</span></span></code></pre></td></tr></table>
</div>
</div><p>将 <code>enabled</code> 的值改为 <code>enabled=1</code>，以启用 mysql57-community 仓库。</p>
<ul>
<li>要启用 MySQL 5.7 仓库，修改 <code>enabled</code> 设置的值，使其为 <code>enabled=1</code> 。</li>
<li>使用相同的方法启用开发版本。</li>
</ul>
<h5 id="从仓库安装-mysql">从仓库安装 MySQL
</h5><p>当你安装仓库 RPM 文件时，<code>yum install</code> 命令会自动从最合适的仓库获取软件包。官方 MySQL 仓库通常比发行版自带仓库有更新的版本，因此 <code>yum</code> 会优先安装官方软件包，因为它们的仓库中有最新版本。</p>
<p>类似地，如果你在安装新仓库后执行 <code>yum upgrade</code> 命令来升级机器上的所有软件包，软件包管理器会自动升级之前从其自带仓库安装的任何旧版本的 MySQL，并将其替换为新的官方版本。</p>
<h4 id="添加-apt-仓库">添加 APT 仓库
</h4><ol>
<li>从http://dev.mysql.com/downloads/repo/apt/ 下载 APT 仓库的 DEB 文件。
<ul>
<li>支持的发行版：
<ul>
<li>Debian 版本 9</li>
<li>Ubuntu LTS 版本 16.04、18.04 和 18.10</li>
</ul>
</li>
</ul>
</li>
<li>使用 <code>dpkg</code> 命令安装该文件：</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-plaintext" data-lang="plaintext"><span class="line"><span class="cl">dpkg -i mysql-apt-config_0.8.12-1_all.deb
</span></span></code></pre></td></tr></table>
</div>
</div><p>上述命令会将 MySQL APT 仓库添加到主机的 APT 配置中。</p>
<ol start="3">
<li>配置仓库版本。</li>
<li>运行 <code>apt-get update</code> 来刷新仓库元数据。</li>
<li>运行 <code>apt-get install packagename</code> 从新仓库安装软件包。</li>
</ol>
<h5 id="仓库配置">仓库配置
</h5><p>当你安装 <code>mysql-apt-config</code> 软件包时，<code>dpkg</code> 会打开一个交互式窗口，你可以从中选择仓库版本。将在后续展示展示。</p>
<p>要使用此界面重新配置仓库，你可以重新安装 <code>mysql-apt-config</code> 软件包，或者使用以下命令重新配置：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-plaintext" data-lang="plaintext"><span class="line"><span class="cl">dpkg-reconfigure mysql-apt-config
</span></span></code></pre></td></tr></table>
</div>
</div><img src="https://picgo001-1322786652.cos.ap-chengdu.myqcloud.com/202507211709555.png" alt="image-20250721170936342" style="zoom:67%;" />
<h5 id="dpkg-配置界面">dpkg 配置界面
</h5><p>该界面的第一页显示了仓库配置中可用的产品：</p>
<ul>
<li>MySQL 服务器和集群</li>
<li>MySQL 工具和连接器</li>
<li>MySQL 预览包</li>
</ul>
<p>它还提供了一个 “确定（OK）” 选项，用于保存更改并退出该界面。</p>
<h4 id="手动配置-apt-仓库">手动配置 APT 仓库
</h4><p>通过编辑 <code>/etc/apt/sources.list.d/mysql.list</code> 文件，启用或禁用特定仓库：</p>
<ul>
<li>执行上一张幻灯片中的步骤后，会得到以下配置：</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-plaintext" data-lang="plaintext"><span class="line"><span class="cl">### 此文件由以下条目自动配置 ###
</span></span><span class="line"><span class="cl"># 你可以修改下面的条目，但其他修改可能会丢失。
</span></span><span class="line"><span class="cl"># 以 root 身份使用命令 &#39;dpkg-reconfigure mysql-apt-config&#39; 进行修改。
</span></span><span class="line"><span class="cl">deb http://repo.mysql.com/apt/ubuntu/ bionic mysql-apt-config
</span></span><span class="line"><span class="cl">deb http://repo.mysql.com/apt/ubuntu/ bionic mysql-8.0
</span></span><span class="line"><span class="cl">#deb http://repo.mysql.com/apt/ubuntu/ bionic mysql-tools-preview
</span></span><span class="line"><span class="cl">deb-src http://repo.mysql.com/apt/ubuntu/ bionic mysql-8.0
</span></span></code></pre></td></tr></table>
</div>
</div><p>以 <code>#</code> 符号开头注释的行，表示对应的仓库已禁用 。</p>
<ul>
<li>要启用或禁用特定产品仓库，分别取消注释或添加注释其对应的行即可。</li>
</ul>
<p>如注释所示，如果重新安装或重新配置 <code>mysql-apt-config</code> 软件包，对 <code>mysql.list</code> 文件的手动修改不会保留；软件包配置界面会提示你进行想要的配置更改，然后重新写入该文件 。</p>
<h3 id="windows中安装mysql">Windows中安装MySQL
</h3><h4 id="在-windows-上安装-mysql">在 Windows 上安装 MySQL
</h4><ul>
<li><strong>MySQL 安装程序</strong>：
<ul>
<li>以 <code>.msi</code> 可执行文件形式发布</li>
<li>引导你通过配置向导创建运行 MySQL 所需的文件夹和配置</li>
</ul>
</li>
<li><strong>免安装归档包</strong>：
<ul>
<li>以 <code>.zip</code> 文件形式发布</li>
<li>必须解包并移动到所需的安装位置</li>
<li>必须手动配置以创建运行 MySQL 所需的文件夹和配置</li>
</ul>
</li>
</ul>
<h5 id="包含的产品">包含的产品
</h5><p>Windows 发行版包含 MySQL 数据库服务器，以及以下产品：</p>
<ul>
<li>MySQL Workbench（数据库设计建模工具 ）</li>
<li>MySQL Notifier（状态通知工具 ）</li>
<li>MySQL for Excel（Excel 集成插件 ）</li>
<li>MySQL Enterprise Backup（仅商业版，企业级备份工具 ）</li>
<li>MySQL for Visual Studio（Visual Studio 集成插件 ）</li>
<li>MySQL Shell（交互式操作终端 ）</li>
<li>MySQL Router（路由代理工具 ）</li>
<li>MySQL Connectors（.Net/ Python / ODBC / Java / C++ 等语言连接器 ）</li>
<li>示例、用例和文档</li>
</ul>
<img src="https://picgo001-1322786652.cos.ap-chengdu.myqcloud.com/202507211721443.png" alt="image-20250721172150734" style="zoom:67%;" />
<img src="https://picgo001-1322786652.cos.ap-chengdu.myqcloud.com/202507211722122.png" alt="image-20250721172228987" style="zoom:67%;" />
<img src="https://picgo001-1322786652.cos.ap-chengdu.myqcloud.com/202507211722055.png" alt="image-20250721172247924" style="zoom:67%;" />
<h4 id="在-windows-系统中安装-mysql-服务">在 Windows 系统中安装 MySQL 服务
</h4><ul>
<li>
<p>使用 MySQL 安装程序：</p>
<ul>
<li>使用提供的服务名称，或选择其他名称。</li>
</ul>
</li>
<li>
<p>安装后通过命令行操作：</p>
<ul>
<li>
<p>手动安装服务：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-plaintext" data-lang="plaintext"><span class="line"><span class="cl">mysqld.exe --install servicename --defaults-file=&#34;C:\my.ini&#34;
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>移除已安装的服务：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-plaintext" data-lang="plaintext"><span class="line"><span class="cl">mysqld.exe --remove servicename
</span></span></code></pre></td></tr></table>
</div>
</div></li>
</ul>
</li>
<li>
<p>通过 “服务” 控制面板应用查看已安装的服务：</p>
<ul>
<li>
<p>从命令行启动（服务面板）：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-plaintext" data-lang="plaintext"><span class="line"><span class="cl">services.msc
</span></span></code></pre></td></tr></table>
</div>
</div></li>
</ul>
</li>
<li>
<p><strong>设置服务为自动或手动启动，并指定用于启动服务的 Windows 账户</strong>。</p>
</li>
</ul>
<h5 id="windows-服务相关说明">Windows 服务相关说明
</h5><p>每个 Windows 服务用于控制一个程序，实现程序的启动和停止。创建服务时，必须确保服务管理器能访问程序路径。你可能需要提供 <code>mysqld.exe</code> 可执行文件的完整路径。</p>
<p><strong>示例</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-plaintext" data-lang="plaintext"><span class="line"><span class="cl">C:\mysql80\bin\mysqld.exe --install servicename ...
</span></span></code></pre></td></tr></table>
</div>
</div><p>除了使用 <code>--install</code> 选项，你也可以用 Windows 的 <code>sc</code> 命令行程序将 MySQL 安装为 Windows 服务。</p>
<p><strong>示例</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-plaintext" data-lang="plaintext"><span class="line"><span class="cl">sc create servicename start=auto DisplayName=MySQL binPath=C:\mysql80\bin\mysqld.exe
</span></span></code></pre></td></tr></table>
</div>
</div><p>如果因 MySQL 安装路径包含空格（比如使用默认安装程序路径，包含 “MySQL Server 8.0” 这类文本 ），导致服务启动出现问题，可使用短路径名称，或在 <code>binPath</code> 参数两侧添加双引号来安装服务。</p>
<h4 id="从源代码安装-mysql">从源代码安装 MySQL
</h4><p>在以下情况时，从源代码构建 MySQL：</p>
<ul>
<li>配置内置选项
<ul>
<li>示例：
<ul>
<li>在生产服务器上，针对清晰明确的使用场景，禁用未使用的功能以优化性能</li>
<li>启用额外的调试功能</li>
</ul>
</li>
</ul>
</li>
<li><strong>在没有预编译二进制文件的平台上运行 MySQL</strong></li>
<li><strong>向 MySQL 添加你自己的修改（或社区补丁 ）</strong></li>
</ul>
<h5 id="编译-mysql">编译 MySQL
</h5><p>如果预编译发行版中缺少你需要的功能（比如完整的调试支持 ），可从源代码编译 MySQL。要打造运行时占用更少内存的服务器，你可能需要禁用不必要的特性。例如，你可能需要禁用可选的存储引擎，或者仅编译应用所需的字符集。</p>
<p>编译 MySQL 的要求与编译一般 C++ 程序类似：</p>
<ul>
<li>CMake</li>
<li>make</li>
<li>GCC 5.3（Linux 系统 ）或其他符合 ANSI 标准的 C++ 编译器</li>
</ul>
<p>在 Oracle Linux 7 上，需启用软件集合（Software Collections ）来安装编译 MySQL 软件所需的工具。</p>
<p>根据编译类型以及获取源代码的方式，还存在其他要求。</p>
<p><strong>注意</strong>：如需详细了解从源代码安装 MySQL 的内容，请参阅 <a class="link" href="https://dev.mysql.com/doc/mysql/en/source-installation.html"  target="_blank" rel="noopener"
    >https://dev.mysql.com/doc/mysql/en/source-installation.html</a> 。</p>
<h4 id="从二进制归档文件安装-mysql">从二进制归档文件安装 MySQL
</h4><p>若不通过包管理器安装，必须手动执行一些配置步骤。</p>
<ol>
<li>创建 <code>mysql</code> 用户和用户组。</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-plaintext" data-lang="plaintext"><span class="line"><span class="cl"># groupadd mysql
</span></span><span class="line"><span class="cl"># useradd -r -g mysql -s /bin/false mysql
</span></span></code></pre></td></tr></table>
</div>
</div><ol start="2">
<li>以 <code>mysql</code> 用户身份登录时，将归档文件解压到合适的目录。或者，在解压后，更改已解压归档文件的所属权为 <code>mysql</code>。</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-plaintext" data-lang="plaintext"><span class="line"><span class="cl"># mkdir /usr/local/mysql-8.0.x/
</span></span><span class="line"><span class="cl"># chown mysql:mysql /usr/local/mysql-8.0.x/
</span></span><span class="line"><span class="cl"># cd /usr/local/mysql-8.0.x/
</span></span><span class="line"><span class="cl"># tar xf ~/mysql-8.0.x-linux-glibc2.12-x86_64.tar.gz
</span></span></code></pre></td></tr></table>
</div>
</div><h5 id="mysql-用户">mysql 用户
</h5><p>你可以使用不同于 <code>mysql</code> 的操作系统用户名和用户组名。为简单起见，这些说明遵循与安装包中相同的约定，安装包在安装过程中会创建 <code>mysql</code> 用户和用户组。</p>
<p>如果你使用不同的用户名和用户组名，要确保 MySQL 服务器进程以该用户名运行，且该用户对 MySQL 数据文件、日志文件和 PID 文件拥有所属权。</p>
<p>尽管可以以 <code>root</code> 用户身份运行 <code>mysqld</code> 进程，但不建议这样做。与其他操作系统服务一样，MySQL 可执行用户授权的操作。如果此类服务（或与之通信的应用程序 ）遭到破坏，攻击者会受到该用户所受限制的约束。</p>
<h5 id="安装目录">安装目录
</h5><p>可以将归档文件解压到任何你具有写入权限的目录。MySQL 服务器使用 <code>basedir</code> 选项来确定安装目录的位置。</p>
<ol start="3">
<li>创建初始配置文件</li>
</ol>
<ul>
<li>将 <code>my-default.cnf</code> 复制到 <code>/etc/my.cnf</code>。</li>
<li>编辑 <code>datadir</code> 配置项，使其指向数据目录。</li>
<li>编辑 <code>basedir</code> 配置项，使其指向安装目录。</li>
<li>编辑其他所需配置：
<ul>
<li>日志文件设置</li>
<li>TCP 端口</li>
</ul>
</li>
</ul>
<ol start="4">
<li>初始化数据目录并记录生成的临时密码</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-plaintext" data-lang="plaintext"><span class="line"><span class="cl"># bin/mysqld --initialize --user=mysql  
</span></span></code></pre></td></tr></table>
</div>
</div><ol start="5">
<li>启动 MySQL 服务器</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-plaintext" data-lang="plaintext"><span class="line"><span class="cl"># bin/mysqld_safe --user=mysql &amp;  
</span></span></code></pre></td></tr></table>
</div>
</div><ol start="6">
<li>使用临时密码连接到 MySQL 服务器</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-plaintext" data-lang="plaintext"><span class="line"><span class="cl"># mysql -u root -p  
</span></span><span class="line"><span class="cl">Enter password: （输入随机生成的密码 ）  
</span></span><span class="line"><span class="cl">...  
</span></span><span class="line"><span class="cl">mysql&gt;  
</span></span></code></pre></td></tr></table>
</div>
</div><ol start="7">
<li>修改 root 用户密码</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-plaintext" data-lang="plaintext"><span class="line"><span class="cl">mysql&gt; ALTER USER USER() IDENTIFIED BY &#39;new password&#39;;  
</span></span></code></pre></td></tr></table>
</div>
</div><ol start="8">
<li>（可选 ）填充时区表</li>
</ol>
<ul>
<li>示例：</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-plaintext" data-lang="plaintext"><span class="line"><span class="cl"># mysql_tzinfo_to_sql /usr/share/zoneinfo | mysql -u root mysql -p  
</span></span></code></pre></td></tr></table>
</div>
</div><h5 id="时区表说明">时区表说明
</h5><p>当你创建新的数据库目录时，MySQL 会创建时区表，但不会填充数据。你可通过以下任一方式填充：</p>
<ul>
<li>执行 <code>mysql_tzinfo_to_sql</code> 工具，基于系统时区数据库文件生成 <code>INSERT</code> 语句。若系统有 <code>zoneinfo</code> 文件（让 MySQL 与时区相关系统工具保持一致 ），选此方式。</li>
<li>从 <a class="link" href="http://dev.mysql.com/downloads/timezones.html"  target="_blank" rel="noopener"
    >http://dev.mysql.com/downloads/timezones.html</a> 下载包含 <code>INSERT</code> 语句的脚本。若系统本身没有时区信息，选此方式。</li>
</ul>
<p>MySQL 利用时区信息处理时区敏感函数和数据类型（如 <code>NOW()</code>、<code>TIMESTAMP</code> ），以及计算特殊时间（如夏令时转换时出现的非法日期和时间 ）。</p>
<h3 id="使用-docker-部署-mysql-服务器">使用 Docker 部署 MySQL 服务器
</h3><p>你需要先在主机上安装 Docker 引擎和客户端。</p>
<ol>
<li>
<p>下载 MySQL 服务器 Docker 镜像</p>
<ul>
<li><strong>使用 MySQL 社区版镜像</strong>：登录到 Docker Hub，使用 <code>docker</code> 命令拉取镜像：</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-plaintext" data-lang="plaintext"><span class="line"><span class="cl"># docker pull mysql/mysql-server
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li><strong>使用 MySQL 企业版镜像</strong>：登录到 My Oracle Support，下载 MySQL 商业服务器 Docker 镜像；使用 <code>docker</code> 命令加载镜像：</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-plaintext" data-lang="plaintext"><span class="line"><span class="cl"># docker load -i mysql-enterprise-server-version.tar
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p><strong>列出所有已下载的镜像</strong></p>
</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-plaintext" data-lang="plaintext"><span class="line"><span class="cl"># docker images
</span></span></code></pre></td></tr></table>
</div>
</div><ol start="3">
<li>创建 MySQL 服务器 Docker 容器</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-plaintext" data-lang="plaintext"><span class="line"><span class="cl"># docker run --name=mysql1 -d mysql/mysql-server  
</span></span></code></pre></td></tr></table>
</div>
</div><ol start="4">
<li>查看 MySQL 服务器日志</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-plaintext" data-lang="plaintext"><span class="line"><span class="cl"># docker logs mysql1  
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li><strong>提取生成的临时密码</strong>：</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-plaintext" data-lang="plaintext"><span class="line"><span class="cl"># docker logs mysql1 2&gt;&amp;1 | grep GENERATED  
</span></span></code></pre></td></tr></table>
</div>
</div><ol start="5">
<li>从容器内部连接到 MySQL 服务器</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-plaintext" data-lang="plaintext"><span class="line"><span class="cl"># docker exec -it mysql1 mysql -uroot -p  
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>输入临时密码</li>
<li>修改 root 用户密码：</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-plaintext" data-lang="plaintext"><span class="line"><span class="cl">mysql&gt; ALTER USER USER() IDENTIFIED BY &#39;new password&#39;;  
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>运行命令</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">docker run --name<span class="o">=</span>container_name -d image_name:tag
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="安装文件及路径">安装文件及路径
</h2><h3 id="linux-mysql-server-安装目录">linux MySQL Server 安装目录
</h3><img src="https://picgo001-1322786652.cos.ap-chengdu.myqcloud.com/202507231656155.png" alt="image-20250723165628953" style="zoom:80%;" />
<h4 id="数据目录data-directory">数据目录（Data Directory）
</h4><ul>
<li><code>/var/lib/mysql</code> 是服务器存储数据库的位置。当你（或安装过程）运行 <code>mysqld --initialize</code> 时，会配置该目录。InnoDB 日志文件、回滚表空间和系统表空间都位于此目录中。它还包含每个数据库对应的子目录，其中包括 <code>mysql</code> 目录（该目录包含系统表，包括授权表 ）。MySQL 8.0 使用 InnoDB 存储引擎，将数据字典存储在 <code>mysql.ibd</code> 表空间中。</li>
</ul>
<h4 id="基础目录base-directory">基础目录（Base Directory）
</h4><ul>
<li><code>/usr/sbin</code> 包含主要的服务器可执行文件 <code>mysqld</code>。</li>
<li><code>/usr/bin</code> 包含客户端程序和脚本，如 <code>mysql</code>、<code>my_print_defaults</code>、<code>mysqladmin</code>、<code>mysqlcheck</code> 和 <code>mysqlimport</code>。</li>
</ul>
<h4 id="其他目录other-directories">其他目录（Other Directories）
</h4><ul>
<li><code>/var/lib/mysql-files</code> 在 <code>secure_file_priv</code> 变量中配置，用于存储导入和导出的数据文件。</li>
<li><code>/var/lib/mysql-keyring</code> 分配用于存储密钥环文件。</li>
<li><code>/etc</code> 和 <code>/var/log</code> 是 Linux 系统存放配置文件和日志文件的标准目录。MySQL 服务器进程（<code>mysqld</code> ）会读取 <code>/etc/my.cnf</code> 文件。</li>
<li>systemd 启动脚本存储在 systemd 的默认目录中。</li>
</ul>
<h3 id="windows-mysql-server-安装路径">Windows MySQL Server 安装路径
</h3><img src="https://picgo001-1322786652.cos.ap-chengdu.myqcloud.com/202507231659475.png" alt="image-20250723165943329" style="zoom:80%;" />
<p>默认情况下，MySQL 安装在 <code>C:\Program Files\MySQL\MySQL Server [版本号]</code> 目录中。例如，安装程序会将 MySQL 8.0 放置在 <code>C:\Program Files\MySQL\MySQL Server 8.0</code> 目录。</p>
<h4 id="program-files-目录">“Program Files” 目录
</h4><p><code>bin\</code> 目录包含 MySQL 服务器和客户端程序。Windows 版 MySQL 发行包包含多个程序，可在 <code>bin</code> 目录中找到：</p>
<ul>
<li><code>mysqld.exe</code>：服务器可执行文件</li>
<li>客户端程序，如 <code>mysql.exe</code> 和 <code>mysqladmin.exe</code>（列于标题为 “命令行客户端程序” 的幻灯片中 ）</li>
</ul>
<p>其他目录用于存放头文件、库文件和支持文件。</p>
<h4 id="programdata-目录">“ProgramData” 目录
</h4><p><code>Data\</code> 是服务器存储数据库和日志文件的位置。该目录已预先配置好，可直接使用。例如，此目录包含一个 <code>mysql</code> 子目录（包含授权表 ）。</p>
<p><code>Uploads\</code> 在 <code>secure_file_priv</code> 变量中配置，用于存储导入和导出的数据文件。</p>
<h4 id="配置文件">配置文件
</h4><p><code>my.ini</code> 配置选项文件指定了安装目录的位置，以及其他可选设置。</p>
<h3 id="mysql-programs">MySQL Programs
</h3><ul>
<li><strong>服务器程序（Server programs）</strong>：
<ul>
<li><code>mysqld</code> 服务器进程</li>
<li>服务工具、启动程序</li>
</ul>
</li>
<li><strong>安装程序（Installation programs）</strong>：
<ul>
<li>执行初始安装配置过程部分步骤的程序</li>
</ul>
</li>
<li><strong>实用程序（Utility programs）</strong>：
<ul>
<li>无需连接到服务器即可执行某些功能的 MySQL 程序</li>
</ul>
</li>
<li><strong>客户端程序（Client programs）</strong>：
<ul>
<li>连接到服务器的程序</li>
</ul>
</li>
</ul>
<h4 id="mysqldmysql-服务器进程mysqld-mysql-server-process">mysqld：MySQL 服务器进程（mysqld: MySQL Server Process）
</h4><ul>
<li>
<p>由某一个服务器辅助程序自动启动</p>
<ul>
<li>包括操作系统的启动脚本</li>
</ul>
</li>
<li>
<p>可手动启动以调试 MySQL 服务器配置</p>
<ul>
<li>
<p>默认情况下，错误消息会输出到终端，而非错误日志。</p>
</li>
<li>
<p>示例：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ mysqld --user<span class="o">=</span>mysql --datadir<span class="o">=</span>/var/lib/mysql --socket<span class="o">=</span>/tmp/mysql.sock
</span></span></code></pre></td></tr></table>
</div>
</div></li>
</ul>
</li>
</ul>
<h4 id="安装程序installation-programs">安装程序（Installation Programs）
</h4><ul>
<li><strong><code>mysql_secure_installation</code></strong>：
<ul>
<li>用于启用初始安全配置的安全程序。</li>
</ul>
</li>
<li><strong><code>mysql_tzinfo_to_sql</code></strong>：
<ul>
<li>用于创建包含主机时区信息的 SQL 脚本的实用程序。</li>
</ul>
</li>
<li><strong><code>mysql_upgrade</code></strong>：
<ul>
<li>用于验证数据库内容并确保其与当前 MySQL 版本兼容的程序。</li>
<li>自 MySQL Server 8.0.16 起已弃用，因为这些任务现在会在服务器启动时自动执行。</li>
</ul>
</li>
</ul>
<p><code>mysql_secure_installation</code> 可通过以下方式提升 MySQL 安装的安全性：</p>
<ul>
<li>你可以为 root 账户设置密码。</li>
<li>你可以移除可从本地主机外部访问的 root 账户。</li>
<li>你可以移除匿名用户账户。</li>
<li>你可以移除 <code>test</code> 数据库（默认情况下，所有用户，甚至匿名用户都可访问该数据库 ），以及移除允许任何人访问名称以 <code>test_</code> 开头的数据库的权限。</li>
</ul>
<p>MySQL 8.0 安装默认已处理大部分此类问题。因此，可能无需运行 <code>mysql_secure_installation</code>。</p>
<h4 id="实用程序utility-programs">实用程序（Utility Programs）
</h4><ul>
<li><strong><code>mysql_config_editor</code></strong>
<ul>
<li>管理登录路径，简化命令行客户端与 MySQL 服务器的连接方式。</li>
</ul>
</li>
<li><strong><code>mysqlbinlog</code></strong>
<ul>
<li>读取并回放二进制日志的内容。</li>
</ul>
</li>
<li><strong><code>mysqldumpslow</code></strong>
<ul>
<li>读取并汇总慢查询日志的内容。</li>
</ul>
</li>
<li><strong><code>mysql_ssl_rsa_setup</code></strong>
<ul>
<li>创建 TLS 密钥和证书。</li>
</ul>
</li>
<li><strong><code>ibd2sdi</code></strong>
<ul>
<li>从 InnoDB 表空间文件中提取序列化字典信息（SDI）。</li>
</ul>
</li>
</ul>
<h5 id="mysql_config_editor">mysql_config_editor
</h5><p>使用 <code>mysql_config_editor</code> 创建加密的选项文件。</p>
<ul>
<li>
<p>将用户、密码和主机选项存储在专用的选项文件中：</p>
<ul>
<li>当前用户主目录下的 <code>.mylogin.cnf</code> 文件</li>
<li>要指定其他文件名，设置 <code>MYSQL_TEST_LOGIN_FILE</code> 环境变量。</li>
</ul>
</li>
<li>
<p><code>.mylogin.cnf</code> 文件包含登录路径。</p>
<ul>
<li>
<p>它们类似于选项组。</p>
</li>
<li>
<p>每个登录路径包含单个身份的认证信息。</p>
</li>
<li>
<p>客户端使用<code>--login-path</code>（或<code>-l</code>）命令行选项引用登录路径：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># mysql --login-path=admin</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>保护该文件不被其他用户读取。任何能够读取该文件的人都可以使用这些凭据，并能够获取明文密码。</p>
</li>
</ul>
</li>
</ul>
<h6 id="隐藏已保存的密码obscuring-saved-passwords">隐藏已保存的密码（Obscuring Saved Passwords）
</h6><p>不建议以 <code>mysql -uroot -ppassword</code> 的形式在命令行指定密码。为方便起见，你可以将密码放在 <code>[client]</code> 选项组中，但密码是以明文形式存储的，任何对选项文件有读取权限的人都可以轻松看到。</p>
<p><code>mysql_config_editor</code> 实用程序使你能够将认证凭据存储在名为 <code>.mylogin.cnf</code> 的加密登录文件中。在 Linux 和 UNIX 上，该文件位置是当前用户的主目录；在 Windows 上，是 <code>%APPDATA%\MySQL</code> 目录。之后，MySQL 客户端程序可以读取该文件以获取连接 MySQL 服务器的方法。加密方法是可逆的，因此你不能假定凭据对任何拥有该文件读取权限的人都是安全的。相反，此功能让你更易于避免在命令行或 MySQL 配置文件中使用明文凭据。</p>
<h5 id="mylogincnf-格式mylogincnf-format">.mylogin.cnf 格式（.mylogin.cnf Format）
</h5><ul>
<li>
<p>解密后的 <code>.mylogin.cnf</code> 文件由选项组构成。</p>
<ul>
<li>与其他选项文件类似</li>
</ul>
</li>
<li>
<p><code>.mylogin.cnf</code> 中的每个选项组都是一个登录路径。</p>
<ul>
<li>一组值，指示服务器主机以及用于向该服务器进行认证的凭据</li>
<li>仅允许有限的一组选项（<code>user</code>、<code>password</code> 和 <code>host</code> ）</li>
</ul>
</li>
<li>
<p>示例：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-ini" data-lang="ini"><span class="line"><span class="cl"><span class="k">[admin]</span>
</span></span><span class="line"><span class="cl"><span class="na">user</span> <span class="o">=</span> <span class="s">root</span>
</span></span><span class="line"><span class="cl"><span class="na">password</span> <span class="o">=</span> <span class="s">oracle</span>
</span></span><span class="line"><span class="cl"><span class="na">host</span> <span class="o">=</span> <span class="s">127.0.0.1</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
</ul>
<p>如果你尝试在文本编辑器中读取 <code>.mylogin.cnf</code> 文件，它会以加密形式显示。你可以使用 <code>print</code> 命令查看登录路径，具体将在下一张幻灯片中展示。</p>
<p><strong>注意</strong>：使用带 <code>-s</code> 选项的 <code>my_print_defaults</code> 实用程序可以明文显示密码。</p>
<h5 id="登录路径login-paths">登录路径（Login Paths）
</h5><ul>
<li>
<p><strong>创建登录路径</strong>：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">mysql_config_editor <span class="nb">set</span> 
</span></span><span class="line"><span class="cl">  --login-path<span class="o">=</span>login-path 
</span></span><span class="line"><span class="cl">  --user<span class="o">=</span>username 
</span></span><span class="line"><span class="cl">  --password --host<span class="o">=</span>hostname
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p><strong>明文查看单个登录路径</strong>：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">mysql_config_editor print 
</span></span><span class="line"><span class="cl">  --login-path<span class="o">=</span>login-path
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p><strong>明文查看所有登录路径</strong>：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">mysql_config_editor print --all
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p><strong>移除登录路径</strong>：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">mysql_config_editor remove 
</span></span><span class="line"><span class="cl">  --login-path<span class="o">=</span>login-path
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>默认登录路径名称是 <code>[client]</code>。所有标准客户端都会读取它。</p>
</li>
</ul>
<p>如果调用 <code>mysql_config_editor</code> 时未使用 <code>--login-path</code> 选项，它会使用 <code>[client]</code> 登录路径。所有标准客户端默认使用此登录路径。</p>
<p>例如，以下命令创建一个供所有标准客户端使用的 <code>[client]</code> 登录路径：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># mysql_config_editor set --user=root --password</span>
</span></span><span class="line"><span class="cl">Enter password: oracle
</span></span></code></pre></td></tr></table>
</div>
</div><p>在未指定更多命令行参数或选项文件的情况下调用标准客户端，会导致其读取 <code>.mylogin.cnf</code> 文件中的 <code>[client]</code> 登录路径，以及任何选项文件中的 <code>[client]</code> 选项组。例如，执行上述命令后，调用 <code>mysql</code> 客户端的输出如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># mysql</span>
</span></span><span class="line"><span class="cl">Welcome to the MySQL monitor.  Commands end with <span class="p">;</span> or <span class="se">\g</span>.
</span></span><span class="line"><span class="cl">...
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="命令行客户端程序command-line-client-programs">命令行客户端程序（Command-Line Client Programs）
</h4><ul>
<li><strong><code>mysql</code></strong>：MySQL 命令行客户端</li>
<li><strong><code>mysqladmin</code></strong>：用于监控、管理和关闭 MySQL 的实用程序</li>
<li><strong><code>mysqldump</code>/<code>mysqlpump</code></strong>：备份实用程序，可创建用于恢复数据库结构和内容的 SQL 脚本</li>
<li><strong><code>mysqlimport</code></strong>：用于导入分隔数据文件内容的实用程序</li>
<li><strong><code>mysqlslap</code></strong>：负载模拟客户端</li>
<li><strong><code>mysqlshow</code></strong>：用于显示数据库对象元数据的实用程序</li>
<li><strong><code>mysqlcheck</code></strong>：用于检查和优化表的实用程序</li>
<li><strong><code>mysqlsh</code></strong>：MySQL Shell 是适用于 MySQL 服务器的高级命令行客户端和代码编辑器</li>
</ul>
<p>MySQL Shell 必须单独安装。</p>
<p>MySQL Workbench 是一个图形化客户端程序，需单独安装。</p>
<h5 id="启动命令行客户端程序launching-command-line-client-programs">启动命令行客户端程序（Launching Command-Line Client Programs）
</h5><ul>
<li>客户端支持许多通用选项：
<ul>
<li>认证和连接选项
<ul>
<li>示例：<code>--user</code>、<code>--password</code>、<code>--host</code>、<code>--socket</code></li>
</ul>
</li>
</ul>
</li>
<li>部分选项是特定客户端独有的：
<ul>
<li><code>mysqladmin</code>的示例选项：
<ul>
<li><code>--relative</code></li>
<li><code>--sleep</code></li>
</ul>
</li>
<li><code>mysqlcheck</code>的示例选项：
<ul>
<li><code>--analyze</code></li>
<li><code>--check</code></li>
<li><code>--check-upgrade</code></li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="初始化配置">初始化配置
</h2><h4 id="配置强制访问控制configuring-mandatory-access-control">配置强制访问控制（Configuring Mandatory Access Control）
</h4><p>一些平台会实施强制访问控制（MAC）系统，其具备以下特点：</p>
<ul>
<li>阻止服务访问未授权的资源（如文件或端口 ）
<ul>
<li>默认配置包含对常见服务（包括 MySQL ）的默认文件和端口访问权限。</li>
</ul>
</li>
<li>可配置为启用特定的非默认访问权限</li>
<li>可完全禁用</li>
<li>包含以下系统：
<ul>
<li>Linux MAC 系统：
<ul>
<li>SELinux：适用于 Oracle Linux、Red Hat Enterprise Linux、Fedora、CentOS</li>
<li>AppArmor：适用于 SUSE、Ubuntu</li>
</ul>
</li>
<li>Oracle Solaris 扩展策略</li>
</ul>
</li>
</ul>
<p><strong>默认 MAC 配置（Default MAC Configuration）</strong></p>
<p>由于 MySQL 在许多平台上是常用服务，常见的 MAC 系统默认会允许 <code>mysqld</code> 服务器进程访问默认的 MySQL TCP 端口、默认数据目录和日志位置。一般来说，除非你想启用非默认配置（例如，如果你更改了数据目录或 TCP 端口号 ），否则无需修改 MAC 配置。</p>
<h5 id="selinux-示例selinux-example">SELinux 示例（SELinux Example）
</h5><ul>
<li>
<p><strong>添加新的端口映射</strong>：</p>
<ul>
<li>
<p>将一系列 TCP 端口（33060（X 协议）、33061（组复制）和 33062（管理端口） ）设置为<code>mysqld_port_t</code>类型，以便 MySQL 可以使用它们：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># semanage port -a -t mysqld_port_t -p tcp 33060-33062</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
</ul>
</li>
<li>
<p><strong>添加新的文件上下文类型映射</strong>：</p>
<ul>
<li>
<p>将<code>/datadir</code>目录及其内容设置为<code>mysqld_db_t</code>类型，以便 MySQL 可以访问它们：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># semanage fcontext -a -t mysqld_db_t &#34;/datadir(/.*)?&#34;</span>
</span></span><span class="line"><span class="cl"><span class="c1"># restorecon -Rv /datadir</span>
</span></span><span class="line"><span class="cl">restorecon reset /datadir context
</span></span><span class="line"><span class="cl">unconfined_u:object_r:default_t:s0-
</span></span><span class="line"><span class="cl">&gt;unconfined_u:object_r:mysqld_db_t:s0
</span></span></code></pre></td></tr></table>
</div>
</div></li>
</ul>
</li>
</ul>
<h6 id="禁用-selinuxdisabling-selinux">禁用 SELinux（Disabling SELinux）
</h6><p>你可以通过将 SELinux 设置为宽容模式（permissive mode），临时禁用其阻止效果。要执行此操作，运行以下命令：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">setenforce <span class="m">0</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>在宽容模式下，SELinux 会将未授权访问记录到其日志文件中（默认在 <code>/var/log/audit/audit.log</code> ），但不会阻止此类访问。使用宽容模式排查你怀疑可能由 SELinux 配置导致的访问问题。当你重启系统或执行 <code>setenforce 1</code> 命令时，SELinux 会恢复执行其策略。</p>
<p>要完全禁用 SELinux，需在 <code>/etc/selinux/config</code> 文件中将 SELinux 设置从 <code>enforcing</code> 改为 <code>disabled</code>，如下例所示：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-ini" data-lang="ini"><span class="line"><span class="cl"><span class="na">SELINUX</span><span class="o">=</span><span class="s">disabled</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h5 id="apparmor示例apparmor-example">AppArmor：示例（AppArmor: Example）
</h5><ul>
<li>
<p>编辑 <code>/etc/apparmor.d/local/usr.sbin.mysqld</code> 文件，修改本机的 MySQL 策略。</p>
<ul>
<li>
<p>将<code>/datadir</code>目录及其内容设置为可访问。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># /datadir/** rwk,</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
</ul>
</li>
<li>
<p>重新加载 AppArmor 配置文件。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># service apparmor reload</span>
</span></span><span class="line"><span class="cl">* Reloading AppArmor profiles
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>将 MySQL 策略设置为投诉模式（complain mode）。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># aa-complain /usr/sbin/mysqld</span>
</span></span><span class="line"><span class="cl">Setting /usr/sbin/mysqld to complain mode.
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>将 MySQL 策略设置为强制模式（enforce mode）。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># aa-enforce /usr/sbin/mysqld</span>
</span></span><span class="line"><span class="cl">Setting /usr/sbin/mysqld to enforce mode.
</span></span></code></pre></td></tr></table>
</div>
</div></li>
</ul>
<h5 id="投诉模式与强制模式complain-and-enforce-modes">投诉模式与强制模式（Complain and Enforce Modes）
</h5><p>AppArmor 与其他 MAC 系统类似，默认阻止未授权访问，这称为强制模式（enforce mode）。当你希望策略记录未授权访问但不阻止时，执行 <code>aa-complain</code> 命令，将特定可执行文件的策略改为投诉模式（complain mode）。</p>
<h5 id="禁用-apparmordisabling-apparmor">禁用 AppArmor（Disabling AppArmor）
</h5><p>AppArmor 作为服务运行。要禁用它，使用操作系统的服务管理功能禁用 <code>apparmor</code> 服务或启动脚本。例如，在使用 <code>systemd</code> 的系统上，执行以下命令：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">systemctl disable apparmor.service
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="更改-root-密码">更改 <code>root</code> 密码
</h3><h4 id="修改-root-密码changing-the-root-password">修改 root 密码（Changing the root Password）
</h4><ul>
<li>
<p>安装后修改 root 密码：</p>
<ul>
<li>RPM 安装会创建一个 root 账户，其初始密码是随机生成且已过期的，你必须在使用前修改它。
<ul>
<li>初始密码会写入服务器日志（通常在 <code>/var/log/mysql/mysqld.log</code> 中 ）</li>
</ul>
</li>
<li>交互式 DEB 安装会提示设置初始 root 密码，后续无需再修改。</li>
<li>其他维护者提供的安装包可能会通过其他方式创建初始 root 密码。</li>
<li>当使用 <code>mysqld --initialize</code> 初始化 MySQL 时，会生成一个初始的随机过期密码。源码安装和归档包安装通常使用这种方式。</li>
</ul>
</li>
<li>
<p>使用初始密码登录到 MySQL，然后使用 <code>ALTER USER</code> 语句修改密码：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># mysql --user=root --password</span>
</span></span><span class="line"><span class="cl">Enter password: drVXqk9<span class="o">)</span>nn?t
</span></span><span class="line"><span class="cl">mysql&gt; ALTER USER USER<span class="o">()</span> IDENTIFIED BY <span class="s1">&#39;neW%P4ss&#39;</span><span class="p">;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h5 id="使用-mysqladmin-修改-root-密码using-mysqladmin-to-change-the-root-password">使用 mysqladmin 修改 root 密码（Using mysqladmin to Change the root Password）
</h5><p>使用 <code>mysqladmin</code> 客户端实用程序配合 <code>password</code> 命令来修改密码。</p>
<ul>
<li>
<p>如果你未向 <code>password</code> 命令提供参数，<code>mysqladmin</code> 会提示你输入新密码：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># mysqladmin --user=root --password password</span>
</span></span><span class="line"><span class="cl">Enter password: drVXqk9<span class="o">)</span>nn?t
</span></span><span class="line"><span class="cl">New password: neW%P4ss
</span></span><span class="line"><span class="cl">Confirm new password: neW%P4ss
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>如果你在命令行中提供旧密码或新密码，<code>mysqladmin</code> 会显示警告：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># mysqladmin --user=root --password password &#39;neW%P4ss&#39;</span>
</span></span><span class="line"><span class="cl">Enter password: drVXqk9<span class="o">)</span>nn?t
</span></span><span class="line"><span class="cl">mysqladmin: <span class="o">[</span>Warning<span class="o">]</span> Using a password on the <span class="nb">command</span> line interface can be insecure.
</span></span></code></pre></td></tr></table>
</div>
</div></li>
</ul>
<h5 id="使用登录路径using-login-paths">使用登录路径（Using Login Paths）
</h5><p>你可以在包括 <code>mysqladmin</code> 在内的许多 MySQL 客户端中使用登录路径。以下示例展示如何使用默认的 <code>[client]</code> 登录路径设置新密码：</p>
<p><strong>前提</strong>：已用 <code>mysql_config_editor</code> 设置 <code>[client]</code> 登录路径（含旧密码 ）</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># mysqladmin password</span>
</span></span><span class="line"><span class="cl">New password: neW%P4ss
</span></span><span class="line"><span class="cl">Confirm new password: neW%P4ss
</span></span></code></pre></td></tr></table>
</div>
</div><p>请注意，使用此命令修改用户密码后，客户端登录路径不再包含正确的用户密码，因此你必须执行 <code>mysql_config_editor</code> 来设置新的用户密码。</p>
</li>
</ul>
<h3 id="启动和关闭mysql">启动和关闭MySQL
</h3><ul>
<li><strong>启动 MySQL 的方法</strong>：
<ul>
<li>直接运行 <code>mysqld</code> 二进制文件。</li>
<li>运行 <code>mysqld_safe</code>。</li>
<li>使用 Linux 服务管理器：
<ul>
<li>在 SysVinit 系统上，运行 <code>service mysqld start</code>。</li>
<li>在 systemd 系统上，运行 <code>systemctl start mysqld</code>。</li>
</ul>
</li>
</ul>
</li>
<li><strong>停止 MySQL 的方法</strong>：
<ul>
<li>使用 <code>SIGTERM</code> 信号（<code>-15</code> ）终止 <code>mysqld</code> 二进制文件。如果 <code>mysqld_safe</code> 在运行，先终止它。</li>
<li>使用 Linux 服务管理器：
<ul>
<li>在 SysVinit 系统上，运行 <code>service mysqld stop</code>。</li>
<li>在 systemd 系统上，运行 <code>systemctl stop mysqld</code>。</li>
</ul>
</li>
<li><code>mysqladmin shutdown</code></li>
<li>SQL 的 <code>SHUTDOWN</code> 语句</li>
</ul>
</li>
</ul>
<p><strong>使用 kill 命令（Using kill）</strong></p>
<p><code>service mysqld stop</code> 命令（或在 systemd 发行版上的 <code>systemctl stop mysqld</code> ）会向 <code>mysqld</code> 进程发送 UNIX <code>SIGTERM</code> 信号（<code>kill -15</code> ），进程将其解读为关闭服务器的指令。当你使用 <code>mysqladmin shutdown</code> 时，它会使用服务器协议命令向服务器发送 “关闭” 消息。在这两种情况下，服务器进程都会接收消息并执行相同的有序关闭流程。</p>
<p>如果你发送 <code>SIGKILL</code> 信号（<code>kill -9</code> ），<code>mysqld</code> 会立即停止，不会执行有序关闭，就像拔掉机器电源线一样。这可能会导致数据损坏。如果 <code>mysqld_safe</code> 辅助程序在运行，它会将这种突然关闭检测为崩溃，并重新启动 <code>mysqld</code>。</p>
<p><strong>SQL RESTART 语句（SQL RESTART statement）</strong></p>
<p>MySQL 8.0 引入了 <code>RESTART</code> SQL 语句，用于停止并重启 MySQL 服务器。<code>RESTART</code> 需要一个监控进程（如 systemd、<code>mysqld_safe</code> 或 Windows 服务 ）在服务器以退出代码 16 关闭后启动 MySQL 服务器。</p>
<h4 id="使用-mysqladmin-停止-mysqlstopping-mysql-with-mysqladmin">使用 mysqladmin 停止 MySQL（Stopping MySQL with mysqladmin）
</h4><ul>
<li>
<p><strong>使用 <code>[client]</code> 登录路径</strong>：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">mysqladmin shutdown
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p><strong>使用 <code>[admin]</code> 登录路径</strong>：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">mysqladmin --login-path<span class="o">=</span>admin shutdown
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p><strong>在命令行提供凭据和服务器连接信息</strong>：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">mysqladmin -u root -p -h dbhost -P <span class="m">3306</span> shutdown
</span></span><span class="line"><span class="cl">Enter password: password
</span></span></code></pre></td></tr></table>
</div>
</div></li>
</ul>
<h5 id="shutdown-权限shutdown-privilege">SHUTDOWN 权限（SHUTDOWN Privilege）
</h5><p>一些 <code>mysqladmin</code> 命令仅对拥有所需权限的 MySQL 账户可用。例如，要关闭服务器，你必须使用具有 <code>SHUTDOWN</code> 权限的管理账户（如 <code>root</code> ）进行连接。</p>
<h4 id="mysql-服务文件mysql-service-files">MySQL 服务文件（MySQL Service Files）
</h4><ul>
<li>
<p>在 SysVinit 系统上，将 <code>mysql.server</code> 脚本复制到 <code>/etc/init.d/mysqld</code>。</p>
<ul>
<li>
<p>部分软件包安装程序会自动创建此文件。</p>
</li>
<li>
<p>使用 <code>start</code>、<code>stop</code> 或 <code>restart</code> 选项调用它。</p>
</li>
<li>
<p>示例：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">service mysqld start
</span></span><span class="line"><span class="cl">/etc/init.d/mysqld restart
</span></span><span class="line"><span class="cl">support-files/mysql.server stop
</span></span></code></pre></td></tr></table>
</div>
</div></li>
</ul>
</li>
<li>
<p>如果你从为 systemd 发行版构建的 RPM 软件包安装 MySQL，或者手动配置了 systemd，使用 <code>systemctl</code> 命令：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">systemctl start mysqld
</span></span><span class="line"><span class="cl">systemctl stop mysqld
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>这会使用 <code>mysqld.service</code> 文件，它是一个 systemd 服务单元配置文件。</li>
</ul>
</li>
</ul>
<h5 id="sysvinitupstart-和-systemd-发行版sysvinit-upstart-and-systemd-distributions">SysVinit、Upstart 和 systemd 发行版（SysVInit, Upstart, and systemd Distributions）
</h5><p>SysVinit 是初始化 UNIX 服务的标准方法。许多 Linux 系统曾使用这种方法。近年来，Upstart 进程在许多发行版中取代了 SysVinit，模拟其功能。<code>mysql.server</code> 脚本在 SysVinit 和 Upstart 系统上的运行方式相同。</p>
<p>一些 Linux 发行版的最新版本（包括 MySQL 支持的发行版 ）使用 systemd 作为替代的初始化进程。如果你从 RPM 或 APT 二进制包安装 MySQL，服务会自动配置。如果你使用通用 Linux 二进制包安装 MySQL，则必须自行配置 systemd 服务。</p>
<p><strong>注意</strong>：你需在标题为 “配置 MySQL 服务（Configuring the MySQL Service）” 的实践内容中，配置 systemd 中的 <code>mysqld</code> 服务。</p>
<h4 id="在-windows-上启动和停止-mysqlmysql-notifier">在 Windows 上启动和停止 MySQL：MySQL Notifier
</h4><ul>
<li>由 MySQL 安装程序安装</li>
<li>自动注册本地计算机上的 MySQL 服务</li>
<li>支持注册远程 MySQL 服务</li>
<li>显示已注册服务器的运行状态
<ul>
<li>在系统托盘显示</li>
<li>可选：当已注册服务器状态变化，或 MySQL Notifier 检测到新的本地 MySQL 服务时发出通知</li>
</ul>
</li>
<li>支持启动、重启和停止已注册的服务器</li>
<li>启动已安装的 MySQL 应用程序：
<ul>
<li>MySQL Workbench</li>
<li>MySQL Utilities</li>
<li>MySQL Installer</li>
</ul>
</li>
</ul>
<h2 id="升级mysql">升级MySQL
</h2><ul>
<li>最简易的升级是在同一版本系列内的小版本之间进行。
<ul>
<li>示例：从 8.0.xx 升级到 8.0.yy</li>
</ul>
</li>
<li>你可以从 MySQL 5.7 升级到 8.0
<ul>
<li>仅支持在通用可用（GA）版本之间进行，且 MySQL 5.7.9 或更高版本</li>
<li>Oracle 建议在升级到 MySQL 8.0 之前，先升级到最新的 5.7 GA 版本</li>
</ul>
</li>
<li>留意版本之间的差异，这样你就能选择正确的升级方法（原地升级或逻辑升级 ），并避免兼容性问题。</li>
<li>即便你要执行原地升级，也应事先备份数据。
<ul>
<li>这样一来，若遇到问题，你就能回滚升级操作。</li>
</ul>
</li>
</ul>
<p><strong>降级（Downgrading）</strong></p>
<p>从 MySQL 8.0 降级到 MySQL 5.7，或者从某一 MySQL 8.0 版本降级到之前的 MySQL 8.0 版本，是不被支持的。唯一受支持的替代方案是恢复升级前创建的备份。因此，在开始升级流程前备份数据至关重要。</p>
<h3 id="阅读发行说明reading-release-notes">阅读发行说明（Reading Release Notes）
</h3><p>在升级之前，查看当前版本与目标版本之间的变更内容：</p>
<ul>
<li>对于 MySQL 8.0，使用以下 URL：
<ul>
<li><a class="link" href="https://dev.mysql.com/doc/refman/8.0/en/upgrading-from-previous-series.html"  target="_blank" rel="noopener"
    >https://dev.mysql.com/doc/refman/8.0/en/upgrading-from-previous-series.html</a></li>
</ul>
</li>
<li>对于之前的版本，替换 URL 中的 8.0 。例如，MySQL 5.7：
<ul>
<li><a class="link" href="https://dev.mysql.com/doc/refman/5.7/en/upgrading-from-previous-series.html"  target="_blank" rel="noopener"
    >https://dev.mysql.com/doc/refman/5.7/en/upgrading-from-previous-series.html</a></li>
</ul>
</li>
<li>你可能需要查看小版本之间变更的发行说明。
<ul>
<li><a class="link" href="https://dev.mysql.com/doc/relnotes/mysql/8.0/en/index.html"  target="_blank" rel="noopener"
    >https://dev.mysql.com/doc/relnotes/mysql/8.0/en/index.html</a></li>
</ul>
</li>
<li>查找以下标题，这些标题表示你可能需要在升级前处理的变更：
<ul>
<li>已知问题（Known Issue）</li>
<li>不兼容变更（Incompatible Change）</li>
<li>新增或变更的功能（Functionality Added or Changed）</li>
<li>重要变更（Important Change）</li>
</ul>
</li>
</ul>
<h4 id="搜索特定变更searching-for-specific-changes">搜索特定变更（Searching for Specific Changes）
</h4><p>如果你知道某个选项或其他功能发生了变更，但不知道变更发生在哪个版本，你可以使用文档页面上的搜索功能。</p>
<p>或者，你可以在常用搜索引擎上搜索特定的发行说明，方法是包含 <code>site:</code> 修饰符，将搜索范围限定在 MySQL 发行说明网页。例如，要搜索 <code>authentication_string</code> 列的发行说明，在 Google 或 Bing 等常用搜索引擎中输入以下搜索条件：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-plaintext" data-lang="plaintext"><span class="line"><span class="cl">site:dev.mysql.com/doc/relnotes authentication_string
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="mysql-shell-升级检查工具mysql-shell-upgrade-checker-utility">MySQL Shell 升级检查工具（MySQL Shell Upgrade Checker Utility）
</h4><ul>
<li>
<p><strong><code>util.checkForServerUpgrade()</code> 函数</strong>：</p>
<ul>
<li>在 MySQL Shell 中可用</li>
<li>让你能够验证 MySQL 服务器实例是否已准备好进行升级</li>
<li>检查升级到 MySQL 8.0 时的兼容性错误和问题</li>
<li>仅支持 MySQL Server 5.7 和 8.0 的通用可用（GA）版本</li>
<li>如果你提供文件路径，会检查配置文件（<code>my.cnf</code> 或 <code>my.ini</code> ）</li>
</ul>
</li>
<li>
<p>MySQL Shell 的版本必须与你要升级到的 MySQL Server 版本相同或更高。</p>
</li>
<li>
<p>以下示例检查一个 MySQL 服务器，以升级到 8.0.18 版本：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">mysqlsh --util checkForServerUpgrade user@localhost:3306 
</span></span><span class="line"><span class="cl">  --target-version<span class="o">=</span>8.0.18 --config-path<span class="o">=</span>/etc/mysql/my.cnf
</span></span></code></pre></td></tr></table>
</div>
</div></li>
</ul>
<h4 id="使用原地升级方法using-in-place-upgrade-method">使用原地升级方法（Using In-Place Upgrade Method）
</h4><p>当你在同一版本系列内升级或从一个主要版本升级到下一个主要版本时，使用原地（物理）升级方法。</p>
<ul>
<li>停止 MySQL 服务器进程。</li>
<li>使用文件复制备份当前数据库。（可选，但建议执行 ）</li>
<li>用新版本替换 <code>mysqld</code> 二进制文件。</li>
<li>使用新的二进制文件启动 MySQL 服务器进程。</li>
<li>在 MySQL 8.0.16 之前，你必须运行 <code>mysql_upgrade</code>。在 MySQL 8.0.16 及更高版本中，服务器重启会自动执行所有升级任务。</li>
</ul>
<p>这是从 MySQL 5.7 升级到 8.0 的推荐方法。</p>
<h4 id="使用逻辑升级方法using-logical-upgrade-method">使用逻辑升级方法（Using Logical Upgrade Method）
</h4><p>当你要升级到一个或多个更高的主要版本时，使用逻辑（备份 / 恢复）升级方法。</p>
<ul>
<li>使用 <code>mysqldump</code> 备份当前数据库。</li>
<li>安装并初始化一个新的 MySQL 服务器。</li>
<li>启动新的 MySQL 服务器。</li>
<li>从转储文件恢复备份的数据库。
<ul>
<li>由于新特性、变更特性、弃用特性或移除特性和功能带来的不兼容性，可能会导致错误。</li>
</ul>
</li>
<li>在 MySQL 8.0.16 之前，你必须运行 <code>mysql_upgrade</code>。在 MySQL 8.0.16 及更高版本中，你必须关闭服务器并使用 <code>--upgrade=FORCE</code> 选项重启它，以执行剩余的升级任务。</li>
</ul>
<h5 id="使用-mysqldump-执行逻辑备份using-mysqldump-to-perform-a-logical-backup">使用 mysqldump 执行逻辑备份（Using mysqldump to Perform a Logical Backup）
</h5><p>以下命令是升级过程中执行逻辑备份的推荐方式：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">mysqldump --all-databases --routines --events --add-drop-table <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --lock-all-tables --flush-privileges<span class="o">=</span><span class="m">0</span> &gt; data-for-upgrade.sql
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>注意</strong>：使用 <code>mysqldump</code> 备份数据的流程在标题为 “执行备份（Performing Backups）” 的课程中有介绍。</p>
<h5 id="其他方法other-methods">其他方法（Other Methods）
</h5><p>如果你使用复制，可能需要执行滚动升级，即依次升级主机，而不同时关闭复制拓扑。</p>
<p>你也可以通过在升级期间使用临时主机运行应用程序来减少停机时间，该临时主机在升级期间投入使用。</p>
<h4 id="mysql_upgrade">mysql_upgrade
</h4><ul>
<li>检查数据库中的所有表，查看其与当前 MySQL 服务器版本是否存在不兼容性</li>
<li>修复在存在潜在不兼容性的表中发现的任何问题</li>
<li>升级系统表，以添加新版本中可用的任何新权限或功能</li>
<li>用当前 MySQL 版本号标记所有已检查和修复的表</li>
<li>MySQL 服务器 8.0.16 及更高版本不需要此工具。服务器会在启动期间执行所有升级流程。8.0.16 中引入了一个新选项 <code>--upgrade</code> 来控制升级过程。</li>
</ul>
<h5 id="版本versions">版本（Versions）
</h5><p>在升级过程中，同一主机上可能同时存在多个版本的 <code>mysql_upgrade</code>。确保你执行正确版本的 <code>mysql_upgrade</code>，以便它能适配正确的 MySQL 目标版本。</p>
<p><code>--upgrade</code> 选项有以下取值：</p>
<ul>
<li><strong>AUTO（默认）</strong>：服务器会对发现的所有过时内容执行自动升级。</li>
<li><strong>NONE</strong>：服务器在启动期间不执行任何自动升级步骤。</li>
<li><strong>MINIMAL</strong>：如有必要，服务器会升级数据字典，但不会升级其他任何内容。</li>
<li><strong>FORCE</strong>：如有必要，服务器会升级数据字典，并强制升级其他所有内容。</li>
</ul>

</section>


    <footer class="article-footer">
    

    </footer>


    
</article>

    

    

<aside class="related-content--wrapper">
    <h2 class="section-title">相关文章</h2>
    <div class="related-content">
        <div class="flex article-list--tile">
            
                
<article class="">
    <a href="/p/mysqlocp%E8%80%83%E8%AF%95%E8%AE%A4%E8%AF%81/">
        
        

        <div class="article-details">
            <h2 class="article-title">MySQL|OCP考试认证</h2>
        </div>
    </a>
</article>

            
        </div>
    </div>
</aside>

     
    
        
    <script src='//unpkg.com/@waline/client@v2/dist/waline.js'></script>
<link href='//unpkg.com/@waline/client@v2/dist/waline.css' rel='stylesheet'/>
<div id="waline" class="waline-container"></div>
<style>
    .waline-container {
        background-color: var(--card-background);
        border-radius: var(--card-border-radius);
        box-shadow: var(--shadow-l1);
        padding: var(--card-padding);
        --waline-font-size: var(--article-font-size);
    }
    .waline-container .wl-count {
        color: var(--card-text-color-main);
    }
</style><script>
    
    Waline.init({"dark":"html[data-scheme=\"dark\"]","el":"#waline","emoji":["https://unpkg.com/@waline/emojis@1.0.1/bilibili"],"lang":"zh-CN","locale":{"admin":"Penna","placeholder":"欢迎交流，在这儿可以留下评论~"},"pageview":true,"requiredMeta":["name"],"serverURL":"https://comments.penna.homes"});
</script>

    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
        2025 Penna_a
    </section>
    <script type="module">
        import { pageviewCount } from 'https://unpkg.com/@waline/client@v3/dist/pageview.js';

        pageviewCount({
            serverURL: "https:\/\/comments.penna.homes"
        });
    </script>

    
    <section class="powerby">
         
        共 <span class="waline-pageview-count" data-path="/">0</span> 次浏览<br/>
        
    </section>
</footer>


    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css"crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css"crossorigin="anonymous"
            >

            </main>
        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js"integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z&#43;KMkF24hUW8WePSA9HM="crossorigin="anonymous"
                
                >
            </script><script type="text/javascript" src="/ts/main.fed6c5aa91159d8b8d425f1ca63e93896172c110e1dcbb6e99146c23118c4b40.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>

    </body>
</html>
